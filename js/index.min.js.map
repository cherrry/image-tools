{"version":3,"sources":["js/node_modules/browserify/node_modules/browser-pack/_prelude.js","js/index.jsx","js/index.min.js","js/node_modules/object-assign/index.js","node_modules/src/action/image-action.js","node_modules/src/action/window-action.js","node_modules/src/component/accordion-item.jsx","node_modules/src/component/accordion.jsx","node_modules/src/component/upload-button.jsx","node_modules/src/const/image-action-type.js","node_modules/src/const/window-action-type.js","node_modules/src/layout/canvas.jsx","node_modules/src/layout/canvas/webgl-renderer.jsx","node_modules/src/layout/dropzone.jsx","node_modules/src/layout/sidebar.jsx","node_modules/src/listener/dnd-listener.js","node_modules/src/listener/resize-listener.js","node_modules/src/singleton/dispatcher.js","node_modules/src/store/dnd-store.js","node_modules/src/store/image-store.js","node_modules/src/store/window-store.js","node_modules/src/util/define-enums.js","node_modules/src/util/unique-string.js","node_modules/src/var/document.js","node_modules/src/var/request-animation-frame.js","node_modules/src/var/window.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"React","document","Canvas","Sidebar","Dropzone","Index","createClass","displayName","render","createElement","className","mount_point","getElementById","10","12","13","14","15","22","undefined",2,"module","ToObject","val","TypeError","Object","assign","target","from","keys","to","arguments",3,"Dispatcher","ImageActionType","ImageAction","dropFiles","files","dispatch","type","DROP_FILES","data","resizeCanvas","RESIZE_CANVAS","16","8",4,"WindowActionType","WindowAction","resize","RESIZE","dragEnter","DRAG_ENTER","dragLeave","DRAG_LEAVE","9",5,"AccordionItem","getDefaultProps","is_active","_onActivate","self","this","props","onActivate","onClick","title","children",6,"Accordion","propTypes","activeChild","PropTypes","number","getInitialState","active_child","_activateChild","child_index","state","setState","Children","map","child","index","addons","cloneWithProps","bind",7,"UploadButton","_triggerUpload","event","fileField","refs","getDOMNode","clickEvent","createEvent","initEvent","dispatchEvent","preventDefault","ref","onChange","style","display","defineEnums","20","_","window","WindowStore","WebglRenderer","componentDidMount","_adjustCanvasSize","debounce","addListener","componentWillUnmount","removeListener","menu","canvasDisplay","canvasSegment","canvas","height","scrollHeight","width","scrollWidth","setTimeout","overflow","11","19","24","PIXI","requestAnimationFrame","ImageStore","_renderer","WebGLRenderer","transparent","view","_draw","imageUrl","getImageDataUrl","canvasHeight","canvasWidth","renderer","stage","Stage","texture","Texture","fromImage","sprite","Sprite","anchor","x","y","position","addChild","18","23","getState","DndStore","isDragging","ReactCSSTransitionGroup","CSSTransitionGroup","componentWillMount","_onDnd","_onDrop","dataTransfer","component","key","onDrop","transitionName","17","_uploadImage","onDragEnter","stopPropagation","counter","onDragLeave","onDragOver","dropEffect","addEventListener","onResize","setIsDragging","is_dragging","was_dragging","_store","emit","DND_EVENT","EventEmitter","uniqueString","prototype","callback","on","register","message","21","file","is_image","test","setImageFile","setImageDataUrl","data_url","IMAGE_EVENT","reader","FileReader","onload","result","readAsDataURL","WINDOW_EVENT","enum_names","enums","name","defined","shortid","generate"],"mappings":"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","file":"js/index.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\n\nvar React = require('react')\n\nvar document = require('src/var/document.js')\nvar Canvas = require('src/layout/canvas.jsx')\nvar Sidebar = require('src/layout/sidebar.jsx')\nvar Dropzone = require('src/layout/dropzone.jsx')\n\nrequire('src/listener/dnd-listener.js')\nrequire('src/listener/resize-listener.js')\n\nvar Index = React.createClass({\n    render: function () {\n        return (\n            <div>\n                <div className=\"it-container\">\n                    <Canvas />\n                    <Sidebar />\n                </div>\n                <Dropzone />\n            </div>\n        )\n    }\n})\n\nvar mount_point = document.getElementById('mount-point')\nReact.render(<Index />, mount_point)\n","!function e(t,n,r){function a(s,o){if(!n[s]){if(!t[s]){var c=\"function\"==typeof require&&require;if(!o&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error(\"Cannot find module '\"+s+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return a(n?n:e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var i=\"function\"==typeof require&&require,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e){\"use strict\";var t=e(\"react\"),n=e(28),r=e(16),a=e(19),i=e(18);e(20),e(21);var s=t.createClass({displayName:\"Index\",render:function(){return t.createElement(\"div\",null,t.createElement(\"div\",{className:\"it-container\"},t.createElement(r,null),t.createElement(a,null)),t.createElement(i,null))}}),o=n.getElementById(\"mount-point\");t.render(t.createElement(s,null),o)},{16:16,18:18,19:19,20:20,21:21,28:28,undefined:void 0}],2:[function(e,t){\"use strict\";function n(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}t.exports=Object.assign||function(e){for(var t,r,a=n(e),i=1;i<arguments.length;i++){t=arguments[i],r=Object.keys(Object(t));for(var s=0;s<r.length;s++)a[r[s]]=t[r[s]]}return a}},{}],3:[function(e,t){\"use strict\";function n(){l=!1}function r(e){if(!e)return void(u!==v&&(u=v,n()));if(e!==u){if(e.length!==v.length)throw new Error(\"Custom alphabet for shortid must be \"+v.length+\" unique characters. You submitted \"+e.length+\" characters: \"+e);var t=e.split(\"\").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error(\"Custom alphabet for shortid must be \"+v.length+\" unique characters. These characters were not unique: \"+t.join(\", \"));u=e,n()}}function a(e){return r(e),u}function i(e){f.seed(e),d!==e&&(n(),d=e)}function s(){u||r(v);for(var e,t=u.split(\"\"),n=[],a=f.nextValue();t.length>0;)a=f.nextValue(),e=Math.floor(a*t.length),n.push(t.splice(e,1)[0]);return n.join(\"\")}function o(){return l?l:l=s()}function c(e){var t=o();return t[e]}var u,d,l,f=e(9),v=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-\";t.exports={characters:a,seed:i,lookup:c,shuffled:o}},{9:9}],4:[function(e,t){\"use strict\";function n(e){var t=r.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var r=e(3);t.exports=n},{3:3}],5:[function(e,t){\"use strict\";function n(e,t){for(var n,a=0,i=\"\";!n;)i+=e(t>>4*a&15|r()),n=t<Math.pow(16,a+1),a++;return i}var r=e(8);t.exports=n},{8:8}],6:[function(e,t){\"use strict\";function n(){var e=\"\",t=Math.floor(.001*(Date.now()-f));return t===o?s++:(s=0,o=t),e+=u(c.lookup,v),e+=u(c.lookup,p),s>0&&(e+=u(c.lookup,s)),e+=u(c.lookup,t)}function r(e){return c.seed(e),t.exports}function a(e){return p=e,t.exports}function i(e){return void 0!==e&&c.characters(e),c.shuffled()}var s,o,c=e(3),u=e(5),d=e(4),l=e(7),f=1426452414093,v=5,p=e(10)||0;t.exports=n,t.exports.generate=n,t.exports.seed=r,t.exports.worker=a,t.exports.characters=i,t.exports.decode=d,t.exports.isValid=l},{10:10,3:3,4:4,5:5,7:7}],7:[function(e,t){\"use strict\";function n(e){if(!e||\"string\"!=typeof e||e.length<6)return!1;var t=r.characters(),n=e.split(\"\").map(function(e){return-1===t.indexOf(e)?e:void 0}).join(\"\").split(\"\").join(\"\");return 0===n.length}var r=e(3);t.exports=n},{3:3}],8:[function(e,t){\"use strict\";function n(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return r.getRandomValues(e),48&e[0]}var r=window.crypto||window.msCrypto;t.exports=n},{}],9:[function(e,t){\"use strict\";function n(){return a=(9301*a+49297)%233280,a/233280}function r(e){a=e}var a=1;t.exports={nextValue:n,seed:r}},{}],10:[function(e,t){\"use strict\";t.exports=0},{}],11:[function(e,t){\"use strict\";var n=e(27),r=e(14),a={dropFiles:function(e){n.dispatch({type:r.DROP_FILES,data:{files:e}})},resizeCanvas:function(){n.dispatch({type:r.RESIZE_CANVAS})}};t.exports=a},{14:14,27:27}],12:[function(e,t){\"use strict\";var n=e(27),r=e(15),a={resize:function(){n.dispatch({type:r.RESIZE})},dragEnter:function(){n.dispatch({type:r.DRAG_ENTER})},dragLeave:function(){n.dispatch({type:r.DRAG_LEAVE})}};t.exports=a},{15:15,27:27}],13:[function(e,t){\"use strict\";var n=e(\"react\"),r=e(28),a=n.createClass({displayName:\"UploadButton\",_triggerUpload:function(e){var t=this,n=t.refs.fileField.getDOMNode(),a=r.createEvent(\"Events\");a.initEvent(\"click\",!0,!1),n.dispatchEvent(a),e.preventDefault()},render:function(){var e=this;return n.createElement(\"div\",null,n.createElement(\"input\",{ref:\"fileField\",type:\"file\",onChange:e.props.onChange,style:{display:\"none\"}}),n.createElement(\"button\",{className:e.props.className||\"\",onClick:e._triggerUpload},e.props.children))}});t.exports=a},{28:28,undefined:void 0}],14:[function(e,t){\"use strict\";var n=e(25),r=n([\"DROP_FILES\",\"RESIZE_CANVAS\"]);t.exports=r},{25:25}],15:[function(e,t){\"use strict\";var n=e(25),r=n([\"RESIZE\",\"DRAG_ENTER\",\"DRAG_LEAVE\"]);t.exports=r},{25:25}],16:[function(e,t){\"use strict\";var n=e(\"react\"),r=e(\"underscore\"),a=e(30),i=e(24),s=e(17),o=e(11),c=n.createClass({displayName:\"Canvas\",componentDidMount:function(){var e=this;e._adjustCanvasSize=r.debounce(e._adjustCanvasSize,200),i.addListener(e._adjustCanvasSize)},componentWillUnmount:function(){i.removeListener(self._adjustCanvasSize)},_adjustCanvasSize:function(){var e=this,t=e.refs.menu.getDOMNode(),n=e.refs.canvasDisplay.getDOMNode(),r=e.refs.canvasSegment.getDOMNode(),a=e.refs.canvas.getDOMNode();n.style.height=\"calc(100% - \"+t.scrollHeight+\"px - 1em)\",a.height=r.scrollHeight,a.width=r.scrollWidth,o.resizeCanvas()},render:function(){var e=this;return a.setTimeout(e._adjustCanvasSize),n.createElement(\"div\",{className:\"it-canvas-container\"},n.createElement(\"div\",{className:\"it-inner-container\",style:{overflow:\"hidden\"}},n.createElement(\"div\",{ref:\"menu\",className:\"it-canvas-menu ui red secondary pointing menu\"},n.createElement(\"a\",{className:\"active item\"},\"Before\"),n.createElement(\"a\",{className:\"item\"},\"After\")),n.createElement(\"div\",{ref:\"canvasDisplay\",className:\"it-canvas-display\"},n.createElement(\"div\",{className:\"it-canvas-segment ui segment\"},n.createElement(\"div\",{ref:\"canvasSegment\",className:\"it-canvas-inner-segment\"},n.createElement(s,{ref:\"canvas\"}))))))}});t.exports=c},{11:11,17:17,24:24,30:30,undefined:void 0}],17:[function(e,t){\"use strict\";var n=e(\"react\"),r=e(\"pixi\"),a=e(29),i=e(23),s=n.createClass({displayName:\"WebglRenderer\",componentDidMount:function(){var e=this,t=e.refs.canvas.getDOMNode();e._renderer=new r.WebGLRenderer(0,0,{transparent:!0,view:t}),i.addListener(e._draw)},componentWillUnmount:function(){var e=this;i.removeListener(e._draw)},_draw:function(){var e=this,t=i.getImageDataUrl(),n=e.refs.canvas.getDOMNode(),s=n.height,o=n.width,c=e._renderer;c.resize(o,s);var u=new r.Stage,d=r.Texture.fromImage(t),l=new r.Sprite(d);l.anchor.x=.5,l.anchor.y=.5,l.position.x=o/2,l.position.y=s/2,u.addChild(l),a(function(){c.render(u)})},render:function(){return n.createElement(\"canvas\",{ref:\"canvas\",className:\"it-canvas\"})}});t.exports=s},{23:23,29:29,undefined:void 0}],18:[function(e,t){\"use strict\";function n(){return{is_active:s.isDragging()}}var r=e(\"react/addons\"),a=r.addons.CSSTransitionGroup,i=e(11),s=e(22),o=r.createClass({displayName:\"Dropzone\",getInitialState:function(){return n()},componentWillMount:function(){var e=this;s.addListener(e._onDnd)},componentWillUnmount:function(){var e=this;s.addListener(e._onDnd)},_onDnd:function(){var e=this;e.setState(n)},_onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files;i.dropFiles(t)},render:function(){var e=this,t=e.state.is_active,n=null;return t&&(n=r.createElement(\"div\",{key:\"dnd\",onDrop:e._onDrop,className:\"it-global-dropzone\"},r.createElement(\"div\",{className:\"it-dropzone-text\"},\"Drop Image Here\"))),r.createElement(a,{transitionName:\"anim-dnd\"},n)}});t.exports=o},{11:11,22:22,undefined:void 0}],19:[function(e,t){\"use strict\";var n=e(\"react\"),r=e(13),a=e(11),i=n.createClass({displayName:\"Sidebar\",_uploadImage:function(e){var t=e.target.files;a.dropFiles(t)},render:function(){var e=this;return n.createElement(\"div\",{className:\"it-sidebar-container\"},n.createElement(\"div\",{className:\"it-inner-container\"},n.createElement(\"div\",{className:\"it-sidebar-inner-segment ui inverted segment\"},n.createElement(\"h4\",{className:\"ui header\"},\"Image Processing Tool\"),n.createElement(\"div\",{className:\"ui inverted accordion\"},n.createElement(\"div\",null,n.createElement(\"div\",{className:\"active title\"},n.createElement(\"i\",{className:\"dropdown icon\"}),\"Upload Image\"),n.createElement(\"div\",{className:\"active content\"},n.createElement(r,{onChange:e._uploadImage,className:\"ui inverted fluid button\"},\"Select Image\"),\"or drop to this page\")),n.createElement(\"div\",{className:\"title\"},n.createElement(\"i\",{className:\"dropdown icon\"}),\"Select Filters\"),n.createElement(\"div\",{className:\"content\"})))))}});t.exports=i},{11:11,13:13,undefined:void 0}],20:[function(e){\"use strict\";function t(e){e.preventDefault(),e.stopPropagation(),++o,1==o&&s.dragEnter()}function n(e){e.preventDefault(),e.stopPropagation(),--o,0===o&&s.dragLeave()}function r(e){e.preventDefault(),o=0,s.dragLeave()}function a(e){e.preventDefault(),e.dataTransfer.dropEffect=\"copy\"}var i=(e(\"underscore\"),e(22),e(28)),s=e(12),o=0;i.addEventListener(\"dragenter\",t,!1),i.addEventListener(\"dragleave\",n,!1),i.addEventListener(\"dragover\",a,!1),i.addEventListener(\"drop\",r,!1)},{12:12,22:22,28:28,undefined:void 0}],21:[function(e){\"use strict\";var t=e(\"underscore\"),n=e(30),r=e(12),a=t.debounce(function(){r.resize()},50);n.addEventListener(\"resize\",a)},{12:12,30:30,undefined:void 0}],22:[function(e,t){\"use strict\";function n(e){var t=u.is_dragging;e!==t&&(u.is_dragging=e,d.emit(c))}var r=e(2),a=e(\"events\").EventEmitter,i=e(27),s=e(15),o=e(26),c=o(),u={is_dragging:!1},d=r({},a.prototype,{isDragging:function(){return u.is_dragging},addListener:function(e){var t=this;t.on(c,e)},removeListener:function(e){var t=this;t.removeListener(c,e)}});i.register(function(e){switch(e.type){case s.DRAG_ENTER:n(!0);break;case s.DRAG_LEAVE:n(!1)}}),t.exports=d},{15:15,2:2,26:26,27:27,undefined:void 0}],23:[function(e,t){\"use strict\";function n(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];if(p.test(r.type))return void a(r)}}function r(e){e!==f.data_url&&(f.data_url=e,v.emit(l))}function a(e){var t=new FileReader;t.onload=function(e){var t=e.target.result;r(t)},t.readAsDataURL(e)}function i(){v.emit(l)}var s=e(2),o=e(\"events\").EventEmitter,c=e(27),u=e(14),d=e(26),l=d(),f={data_url:\"\"},v=s({},o.prototype,{getImageDataUrl:function(){return f.data_url},addListener:function(e){var t=this;t.on(l,e)},removeListener:function(e){var t=this;t.removeListener(l,e)}}),p=/^image\\//;c.register(function(e){switch(e.type){case u.DROP_FILES:n(e.data.files);break;case u.RESIZE_CANVAS:i()}}),t.exports=v},{14:14,2:2,26:26,27:27,undefined:void 0}],24:[function(e,t){\"use strict\";function n(){u.emit(c,{type:s.RESIZE})}var r=e(2),a=e(\"events\").EventEmitter,i=e(27),s=e(15),o=e(26),c=o(),u=r({},a.prototype,{addListener:function(e){var t=this;t.on(c,e)},removeListener:function(e){self.removeListener(c,e)}});i.register(function(e){switch(e.type){case s.RESIZE:n()}}),t.exports=u},{15:15,2:2,26:26,27:27,undefined:void 0}],25:[function(e,t){\"use strict\";function n(e){for(var t={},n=0,a=e.length;a>n;n++){var i=e[n];t[i]=++r}return t}var r=0;t.exports=n},{}],26:[function(e,t){\"use strict\";function n(){return r.generate()}var r=e(6);t.exports=n},{6:6}],27:[function(e,t){\"use strict\";var n=e(\"flux\").Dispatcher;t.exports=new n},{undefined:void 0}],28:[function(e,t){t.exports=window.document},{}],29:[function(e,t){\"use strict\";var n=e(30);t.exports=n.requestAnimationFrame},{30:30}],30:[function(e,t){t.exports=window},{}]},{},[1]);\n//# sourceMappingURL=../js/index.min.js.map","'use strict';\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = Object.keys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict'\n\nvar Dispatcher = require('src/singleton/dispatcher.js')\nvar ImageActionType = require('src/const/image-action-type.js')\n\nvar ImageAction = {\n    dropFiles: function (files) {\n        Dispatcher.dispatch({\n            type: ImageActionType.DROP_FILES,\n            data: {\n                files: files\n            }\n        })\n    },\n    resizeCanvas: function () {\n        Dispatcher.dispatch({\n            type: ImageActionType.RESIZE_CANVAS\n        })\n    }\n}\n\nmodule.exports = ImageAction\n","'use strict'\n\nvar Dispatcher = require('src/singleton/dispatcher.js')\nvar WindowActionType = require('src/const/window-action-type.js')\n\nvar WindowAction = {\n    resize: function () {\n        Dispatcher.dispatch({\n            type: WindowActionType.RESIZE\n        })\n    },\n    dragEnter: function () {\n        Dispatcher.dispatch({\n            type: WindowActionType.DRAG_ENTER\n        })\n    },\n    dragLeave: function () {\n        Dispatcher.dispatch({\n            type: WindowActionType.DRAG_LEAVE\n        })\n    }\n}\n\nmodule.exports = WindowAction\n","'use strict'\n\nvar React = require('react')\n\nvar AccordionItem = React.createClass({\n    getDefaultProps: function () {\n        return {\n            is_active: false\n        }\n    },\n    _onActivate: function () {\n        var self = this\n        if (self.props.onActivate) {\n            self.props.onActivate()\n        }\n    },\n    render: function () {\n        var self = this\n        var is_active = self.props.is_active\n        return (\n            <div>\n                <div onClick={ self._onActivate } className={ \"title\" + ( is_active ? \" active\" : \"\" ) }>\n                    <i className=\"dropdown icon\" />\n                    { self.props.title }\n                </div>\n                <div className={ \"content\" + ( is_active ? \" active\" : \"\" ) }>\n                    { self.props.children }\n                </div>\n            </div>\n        )\n    }\n})\n\nmodule.exports = AccordionItem\n","'use strict'\n\nvar React = require('react/addons')\n\nvar AccordionItem = require('src/component/accordion-item.jsx')\n\nvar Accordion = React.createClass({\n    propTypes: {\n        activeChild: React.PropTypes.number\n    },\n    getDefaultProps: function () {\n        return {\n            activeChild: -1\n        }\n    },\n    getInitialState: function () {\n        var self = this\n        return {\n            active_child: self.props.activeChild\n        }\n    },\n    _activateChild: function (child_index) {\n        var self = this\n        var active_child = self.state.active_child\n        self.setState({\n            active_child: active_child === child_index ? -1 : child_index\n        })\n    },\n    render: function () {\n        var self = this\n\n        var active_child = self.state.active_child\n        var children = React.Children.map(self.props.children, function (child, index) {\n            if (child.type === AccordionItem.type) {\n                var is_active = active_child === index\n                return React.addons.cloneWithProps(child, {\n                    is_active: is_active,\n                    onActivate: self._activateChild.bind(self, index)\n                })\n            }\n            return child\n        })\n\n        return (\n            <div className={ \"ui accordion\" + ( self.props.className ? \" \" + self.props.className : \"\" ) }>\n                { children }\n            </div>\n        )\n    }\n})\n\nmodule.exports = Accordion\n","'use strict'\n\nvar React = require('react')\n\nvar document = require('src/var/document.js')\n\nvar UploadButton = React.createClass({\n    _triggerUpload: function (event) {\n        var self = this\n        var fileField = self.refs.fileField.getDOMNode()\n\n        var clickEvent = document.createEvent('Events')\n        clickEvent.initEvent('click', true, false)\n        fileField.dispatchEvent(clickEvent)\n\n        event.preventDefault()\n    },\n    render: function () {\n        var self = this\n        return (\n            <div>\n                <input ref=\"fileField\" type=\"file\" onChange={ self.props.onChange } style={{ display: 'none' }} />\n                <button className={ self.props.className || \"\" } onClick={ self._triggerUpload }>\n                    { self.props.children }\n                </button>\n            </div>\n        )\n    }\n})\n\nmodule.exports = UploadButton\n","'use strict'\n\nvar defineEnums = require('src/util/define-enums.js')\n\nvar ImageActionType = defineEnums([\n    'DROP_FILES',\n    'RESIZE_CANVAS'\n])\n\nmodule.exports = ImageActionType\n","'use strict'\n\nvar defineEnums = require('src/util/define-enums.js')\n\nvar WindowActionType = defineEnums([\n    'RESIZE',\n    'DRAG_ENTER',\n    'DRAG_LEAVE'\n])\n\nmodule.exports = WindowActionType\n","'use strict'\n\nvar React = require('react')\nvar _ = require('underscore')\n\nvar window = require('src/var/window.js')\nvar WindowStore = require('src/store/window-store.js')\nvar WebglRenderer = require('src/layout/canvas/webgl-renderer.jsx')\nvar ImageAction = require('src/action/image-action.js')\n\nvar Canvas = React.createClass({\n    componentDidMount: function () {\n        var self = this\n        self._adjustCanvasSize = _.debounce(self._adjustCanvasSize, 200)\n        WindowStore.addListener(self._adjustCanvasSize)\n    },\n    componentWillUnmount: function () {\n        WindowStore.removeListener(self._adjustCanvasSize)\n    },\n    _adjustCanvasSize: function () {\n        var self = this\n\n        var menu = self.refs.menu.getDOMNode()\n        var canvasDisplay = self.refs.canvasDisplay.getDOMNode()\n        var canvasSegment = self.refs.canvasSegment.getDOMNode()\n        var canvas = self.refs.canvas.getDOMNode()\n\n        canvasDisplay.style.height = 'calc(100% - ' + menu.scrollHeight + 'px - 1em)'\n        canvas.height = canvasSegment.scrollHeight\n        canvas.width = canvasSegment.scrollWidth\n        ImageAction.resizeCanvas()\n    },\n    render: function () {\n        var self = this\n        window.setTimeout(self._adjustCanvasSize)\n        return (\n            <div className=\"it-canvas-container\">\n                <div className=\"it-inner-container\" style={{ overflow: 'hidden' }}>\n                    <div ref=\"menu\" className=\"it-canvas-menu ui red secondary pointing menu\">\n                        <a className=\"active item\">Before</a>\n                        <a className=\"item\">After</a>\n                    </div>\n                    <div ref=\"canvasDisplay\" className=\"it-canvas-display\">\n                        <div className=\"it-canvas-segment ui segment\">\n                            <div ref=\"canvasSegment\" className=\"it-canvas-inner-segment\">\n                                <WebglRenderer ref=\"canvas\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n})\n\nmodule.exports = Canvas\n","'use strict'\n\nvar React = require('react')\nvar PIXI = require('pixi')\n\nvar requestAnimationFrame = require('src/var/request-animation-frame.js')\nvar ImageStore = require('src/store/image-store.js')\n\nvar WebglRenderer = React.createClass({\n    componentDidMount: function () {\n        var self = this\n        var canvas = self.refs.canvas.getDOMNode()\n        self._renderer = new PIXI.WebGLRenderer(0, 0, {\n            transparent: true,\n            view: canvas\n        })\n        ImageStore.addListener(self._draw)\n    },\n    componentWillUnmount: function () {\n        var self = this\n        ImageStore.removeListener(self._draw)\n    },\n    _draw: function () {\n        var self = this\n        var imageUrl = ImageStore.getImageDataUrl()\n\n        var canvas = self.refs.canvas.getDOMNode()\n        var canvasHeight = canvas.height\n        var canvasWidth = canvas.width\n\n        var renderer = self._renderer\n        renderer.resize(canvasWidth, canvasHeight)\n\n        var stage = new PIXI.Stage()\n\n        var texture = PIXI.Texture.fromImage(imageUrl)\n        var sprite = new PIXI.Sprite(texture)\n\n        sprite.anchor.x = 0.5\n        sprite.anchor.y = 0.5\n\n        sprite.position.x = canvasWidth / 2\n        sprite.position.y = canvasHeight / 2\n\n        stage.addChild(sprite)\n\n        requestAnimationFrame(function () {\n            renderer.render(stage)\n        })\n    },\n    render: function () {\n        var self = this\n        return (\n            <canvas ref=\"canvas\" className=\"it-canvas\" />\n        )\n    }\n})\n\nmodule.exports = WebglRenderer\n","'use strict'\n\nvar React = require('react/addons')\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup\n\nvar ImageAction = require('src/action/image-action.js')\nvar DndStore = require('src/store/dnd-store.js')\n\nfunction getState() {\n    return {\n        is_active: DndStore.isDragging()\n    }\n}\n\nvar Dropzone = React.createClass({\n    getInitialState: function () {\n        return getState()\n    },\n    componentWillMount: function () {\n        var self = this\n        DndStore.addListener(self._onDnd)\n    },\n    componentWillUnmount: function () {\n        var self = this\n        DndStore.addListener(self._onDnd)\n    },\n    _onDnd: function () {\n        var self = this\n        self.setState(getState)\n    },\n    _onDrop: function (event, data) {\n        event.preventDefault()\n        var files = event.dataTransfer.files\n        ImageAction.dropFiles(files)\n    },\n    render: function () {\n        var self = this\n        var is_active = self.state.is_active\n\n        var component = null\n        if (is_active) {\n            component = (\n                <div key=\"dnd\" onDrop={ self._onDrop } className=\"it-global-dropzone\">\n                    <div className=\"it-dropzone-text\">\n                        Drop Image Here\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <ReactCSSTransitionGroup transitionName=\"anim-dnd\">\n                { component }\n            </ReactCSSTransitionGroup>\n        )\n    }\n})\n\nmodule.exports = Dropzone\n","'use strict'\n\nvar React = require('react')\n\nvar UploadButton = require('src/component/upload-button.jsx')\nvar ImageAction = require('src/action/image-action.js')\n\nvar Accordion = require('src/component/accordion.jsx')\nvar AccordionItem = require('src/component/accordion-item.jsx')\n\nvar Sidebar = React.createClass({\n    _uploadImage: function (event) {\n        var files = event.target.files\n        ImageAction.dropFiles(files)\n    },\n    render: function () {\n        var self = this\n        return (\n            <div className=\"it-sidebar-container\">\n                <div className=\"it-inner-container\">\n                    <div className=\"it-sidebar-inner-segment ui inverted segment\">\n                        <h4 className=\"ui header\">Image Processing Tool</h4>\n                        <Accordion className=\"inverted\" activeChild={ 0 }>\n                            <AccordionItem title=\"Upload Image\">\n                                <UploadButton onChange={ self._uploadImage } className=\"ui inverted fluid button\">Select Image</UploadButton>\n                                or drop to this page\n                            </AccordionItem>\n                            <AccordionItem title=\"Select Filters\">\n                                Content\n                            </AccordionItem>\n                        </Accordion>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n})\n\nmodule.exports = Sidebar\n","'use strict'\n\nvar _ = require('underscore')\n\nvar DndStore = require('src/store/dnd-store.js')\nvar document = require('src/var/document.js')\nvar WindowAction = require('src/action/window-action.js')\n\nvar counter = 0\n\nfunction onDragEnter(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    ++counter\n    if (counter == 1) {\n        WindowAction.dragEnter()\n    }\n}\n\nfunction onDragLeave(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    --counter\n    if (counter === 0) {\n        WindowAction.dragLeave()\n    }\n}\n\nfunction onDrop(event) {\n    event.preventDefault()\n    counter = 0\n    WindowAction.dragLeave()\n}\n\nfunction onDragOver(event) {\n    event.preventDefault()\n    event.dataTransfer.dropEffect = 'copy'\n}\n\ndocument.addEventListener('dragenter', onDragEnter, false)\ndocument.addEventListener('dragleave', onDragLeave, false)\ndocument.addEventListener('dragover', onDragOver, false)\ndocument.addEventListener('drop', onDrop, false)\n","'use strict'\n\nvar _ = require('underscore')\n\nvar window = require('src/var/window.js')\nvar WindowAction = require('src/action/window-action.js')\n\nvar onResize = _.debounce(function () {\n    WindowAction.resize()\n}, 50)\n\nwindow.addEventListener('resize', onResize)\n","'use strict'\n\nvar Dispatcher = require('flux').Dispatcher\n\nmodule.exports = new Dispatcher()\n","'use strict'\n\nvar assign = require('object-assign')\nvar EventEmitter = require('events').EventEmitter\n\nvar Dispatcher = require('src/singleton/dispatcher.js')\nvar WindowActionType = require('src/const/window-action-type.js')\nvar uniqueString = require('src/util/unique-string.js')\n\nvar DND_EVENT = uniqueString()\n\nvar _store = {\n    is_dragging: false\n}\n\nvar DndStore = assign({}, EventEmitter.prototype, {\n    isDragging: function () {\n        return _store.is_dragging\n    },\n    addListener: function (callback) {\n        var self = this\n        self.on(DND_EVENT, callback)\n    },\n    removeListener: function (callback) {\n        var self = this\n        self.removeListener(DND_EVENT, callback)\n    }\n})\n\nfunction setIsDragging(is_dragging) {\n    var was_dragging = _store.is_dragging\n    if (is_dragging !== was_dragging) {\n        _store.is_dragging = is_dragging\n        DndStore.emit(DND_EVENT)\n    }\n}\n\nDispatcher.register(function (message) {\n    switch (message.type) {\n        case WindowActionType.DRAG_ENTER:\n            setIsDragging(true)\n            break\n        case WindowActionType.DRAG_LEAVE:\n            setIsDragging(false)\n            break\n    }\n})\n\nmodule.exports = DndStore\n","'use strict'\n\nvar assign = require('object-assign')\nvar EventEmitter = require('events').EventEmitter\n\nvar Dispatcher = require('src/singleton/dispatcher.js')\nvar ImageActionType = require('src/const/image-action-type.js')\nvar uniqueString = require('src/util/unique-string.js')\n\nvar IMAGE_EVENT = uniqueString()\n\nvar _store = {\n    data_url: ''\n}\n\nvar ImageStore = assign({}, EventEmitter.prototype, {\n    getImageDataUrl: function () {\n        return _store.data_url\n    },\n    addListener: function (callback) {\n        var self = this\n        self.on(IMAGE_EVENT, callback)\n    },\n    removeListener: function (callback) {\n        var self = this\n        self.removeListener(IMAGE_EVENT, callback)\n    }\n})\n\nvar is_image = /^image\\//\nfunction dropFiles(files) {\n    for (var i = 0, l = files.length; i < l; i ++) {\n        var file = files[i];\n        if (is_image.test(file.type)) {\n            setImageFile(file)\n            return\n        }\n    }\n}\n\nfunction setImageDataUrl(data_url) {\n    if (data_url !== _store.data_url) {\n        _store.data_url = data_url\n        ImageStore.emit(IMAGE_EVENT)\n    }\n}\n\nfunction setImageFile(file) {\n    var reader = new FileReader()\n\n    reader.onload = function (event) {\n        var data_url = event.target.result\n        setImageDataUrl(data_url)\n    }\n\n    reader.readAsDataURL(file)\n}\n\nfunction resizeCanvas() {\n    ImageStore.emit(IMAGE_EVENT)\n}\n\nDispatcher.register(function (message) {\n    switch (message.type) {\n        case ImageActionType.DROP_FILES:\n            dropFiles(message.data.files)\n            break\n        case ImageActionType.RESIZE_CANVAS:\n            resizeCanvas()\n            break\n    }\n})\n\nmodule.exports = ImageStore\n","'use strict'\n\nvar assign = require('object-assign')\nvar EventEmitter = require('events').EventEmitter\n\nvar Dispatcher = require('src/singleton/dispatcher.js')\nvar WindowActionType = require('src/const/window-action-type.js')\nvar uniqueString = require('src/util/unique-string.js')\n\nvar WINDOW_EVENT = uniqueString()\n\nvar WindowStore = assign({}, EventEmitter.prototype, {\n    addListener: function (callback) {\n        var self = this\n        self.on(WINDOW_EVENT, callback)\n    },\n    removeListener: function (callback) {\n        self.removeListener(WINDOW_EVENT, callback)\n    }\n})\n\nfunction resize() {\n    WindowStore.emit(WINDOW_EVENT, {\n        type: WindowActionType.RESIZE\n    })\n}\n\nDispatcher.register(function (message) {\n    switch (message.type) {\n        case WindowActionType.RESIZE:\n            resize()\n            break\n    }\n})\n\nmodule.exports = WindowStore\n","'use strict'\n\nvar defined = 0\n\nfunction defineEnums(enum_names) {\n    var enums = {}\n    for (var i = 0, l = enum_names.length; i < l; i ++) {\n        var name = enum_names[i];\n        enums[name] = ++defined\n    }\n    return enums\n}\n\nmodule.exports = defineEnums\n","'use strict'\n\nvar shortid = require('shortid')\n\nfunction uniqueString() {\n    return shortid.generate()\n}\n\nmodule.exports = uniqueString\n","module.exports = window.document\n","'use strict'\n\nvar window = require('src/var/window.js')\n\nmodule.exports = window.requestAnimationFrame\n","module.exports = window\n"],"sourceRoot":"/source/"}