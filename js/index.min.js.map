{"version":3,"sources":["js/node_modules/browserify/node_modules/browser-pack/_prelude.js","js/index.jsx","js/index.min.js","js/node_modules/object-assign/index.js","js/node_modules/shortid/lib/alphabet.js","js/node_modules/shortid/lib/decode.js","js/node_modules/shortid/lib/encode.js","js/node_modules/shortid/lib/index.js","js/node_modules/shortid/lib/is-valid.js","js/node_modules/shortid/lib/random/random-byte-browser.js","js/node_modules/shortid/lib/random/random-from-seed.js","js/node_modules/shortid/lib/util/cluster-worker-id-browser.js","node_modules/src/action/image-action.js","node_modules/src/action/window-action.js","node_modules/src/component/upload-button.jsx","node_modules/src/const/image-action-type.js","node_modules/src/const/window-action-type.js","node_modules/src/layout/canvas.jsx","node_modules/src/layout/canvas/webgl-renderer.jsx","node_modules/src/layout/dropzone.jsx","node_modules/src/layout/sidebar.jsx","node_modules/src/listener/dnd-listener.js","node_modules/src/listener/resize-listener.js","node_modules/src/store/dnd-store.js","node_modules/src/store/image-store.js","node_modules/src/store/window-store.js","node_modules/src/util/define-enums.js","node_modules/src/util/unique-string.js","node_modules/src/var/dispatcher.js","node_modules/src/var/document.js","node_modules/src/var/request-animation-frame.js","node_modules/src/var/window.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"React","document","Canvas","Sidebar","Dropzone","Index","createClass","displayName","render","createElement","className","mount_point","getElementById","16","18","19","20","21","28","undefined",2,"module","ToObject","val","TypeError","Object","assign","target","from","keys","to","arguments",3,"reset","shuffled","setCharacters","_alphabet_","alphabet","ORIGINAL","unique","split","filter","item","ind","arr","lastIndexOf","join","characters","setSeed","seed","randomFromSeed","previousSeed","shuffle","characterIndex","sourceArray","targetArray","nextValue","Math","floor","push","splice","getShuffled","lookup","index","alphabetShuffled","9",4,"decode","id","version","indexOf","substr","worker",5,"encode","number","done","loopCounter","str","randomByte","pow","8",6,"generate","seconds","Date","now","REDUCE_TIME","previousSeconds","counter","clusterWorkerId","seedValue","workerId","newCharacters","isValid","10","7","isShortId","invalidCharacters","map","char","crypto","getRandomValues","random","dest","Uint8Array","window","msCrypto","getNextValue","_seed_",11,"Dispatcher","ImageActionType","ImageAction","dropFiles","files","dispatch","type","DROP_FILES","data","resizeCanvas","RESIZE_CANVAS","14","27",12,"WindowActionType","WindowAction","resize","RESIZE","dragEnter","DRAG_ENTER","dragLeave","DRAG_LEAVE","15",13,"UploadButton","_triggerUpload","event","self","this","fileField","refs","getDOMNode","clickEvent","createEvent","initEvent","dispatchEvent","preventDefault","ref","onChange","props","style","display","onClick","children","defineEnums","25","_","WindowStore","WebglRenderer","componentDidMount","_adjustCanvasSize","debounce","addListener","componentWillUnmount","removeListener","menu","canvasDisplay","canvasSegment","canvas","height","scrollHeight","width","scrollWidth","setTimeout","overflow","17","24","30","PIXI","requestAnimationFrame","ImageStore","_renderer","WebGLRenderer","transparent","view","_draw","imageUrl","getImageDataUrl","canvasHeight","canvasWidth","renderer","stage","Stage","texture","Texture","fromImage","sprite","Sprite","anchor","x","y","position","addChild","23","29","getState","is_active","DndStore","isDragging","ReactCSSTransitionGroup","addons","CSSTransitionGroup","getInitialState","componentWillMount","_onDnd","setState","_onDrop","dataTransfer","state","component","key","onDrop","transitionName","22","_uploadImage","onDragEnter","stopPropagation","onDragLeave","onDragOver","dropEffect","addEventListener","onResize","setIsDragging","is_dragging","was_dragging","_store","emit","DND_EVENT","EventEmitter","uniqueString","prototype","callback","on","register","message","26","file","is_image","test","setImageFile","setImageDataUrl","data_url","IMAGE_EVENT","reader","FileReader","onload","result","readAsDataURL","WINDOW_EVENT","enum_names","enums","name","defined","shortid"],"mappings":"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","file":"js/index.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'\n\nvar React = require('react')\n\nvar document = require('src/var/document.js')\nvar Canvas = require('src/layout/canvas.jsx')\nvar Sidebar = require('src/layout/sidebar.jsx')\nvar Dropzone = require('src/layout/dropzone.jsx')\n\nrequire('src/listener/dnd-listener.js')\nrequire('src/listener/resize-listener.js')\n\nvar Index = React.createClass({\n    render: function () {\n        return (\n            <div>\n                <div className=\"it-container\">\n                    <Canvas />\n                    <Sidebar />\n                </div>\n                <Dropzone />\n            </div>\n        )\n    }\n})\n\nvar mount_point = document.getElementById('mount-point')\nReact.render(<Index />, mount_point)\n","!function e(r,n,t){function o(i,a){if(!n[i]){if(!r[i]){var c=\"function\"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);var f=new Error(\"Cannot find module '\"+i+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[i]={exports:{}};r[i][0].call(l.exports,function(e){var n=r[i][1][e];return o(n?n:e)},l,l.exports,e,r,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e){\"use strict\";var r=e(\"react\"),n=r.createClass({displayName:\"Index\",render:function(){return r.createElement(\"h1\",null,\"Image Processing Tool\")}}),t=document.getElementById(\"mount-point\");r.render(r.createElement(n,null),t)},{undefined:void 0}]},{},[1]);\n//# sourceMappingURL=../js/index.min.js.map","'use strict';\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = Object.keys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","'use strict';\n\nvar randomFromSeed = require(9);\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\nvar alphabet = require(3);\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n","'use strict';\n\nvar randomByte = require(8);\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n","'use strict';\n\nvar alphabet = require(3);\nvar encode = require(5);\nvar decode = require(4);\nvar isValid = require(7);\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1426452414093;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 5;\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require(10) || 0;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n","'use strict';\nvar alphabet = require(3);\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var invalidCharacters = id.split('').map(function(char){\n        if (characters.indexOf(char) === -1) {\n            return char;\n        }\n    }).join('').split('').join('');\n\n    return invalidCharacters.length === 0;\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar crypto = window.crypto || window.msCrypto; // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nmodule.exports = 0;\n","'use strict'\n\nvar Dispatcher = require('src/var/dispatcher.js')\nvar ImageActionType = require('src/const/image-action-type.js')\n\nvar ImageAction = {\n    dropFiles: function (files) {\n        Dispatcher.dispatch({\n            type: ImageActionType.DROP_FILES,\n            data: {\n                files: files\n            }\n        })\n    },\n    resizeCanvas: function () {\n        Dispatcher.dispatch({\n            type: ImageActionType.RESIZE_CANVAS\n        })\n    }\n}\n\nmodule.exports = ImageAction\n","'use strict'\n\nvar Dispatcher = require('src/var/dispatcher.js')\nvar WindowActionType = require('src/const/window-action-type.js')\n\nvar WindowAction = {\n    resize: function () {\n        Dispatcher.dispatch({\n            type: WindowActionType.RESIZE\n        })\n    },\n    dragEnter: function () {\n        Dispatcher.dispatch({\n            type: WindowActionType.DRAG_ENTER\n        })\n    },\n    dragLeave: function () {\n        Dispatcher.dispatch({\n            type: WindowActionType.DRAG_LEAVE\n        })\n    }\n}\n\nmodule.exports = WindowAction\n","'use strict'\n\nvar React = require('react')\n\nvar document = require('src/var/document.js')\n\nvar UploadButton = React.createClass({\n    _triggerUpload: function (event) {\n        var self = this\n        var fileField = self.refs.fileField.getDOMNode()\n\n        var clickEvent = document.createEvent('Events')\n        clickEvent.initEvent('click', true, false)\n        fileField.dispatchEvent(clickEvent)\n\n        event.preventDefault()\n    },\n    render: function () {\n        var self = this\n        return (\n            <div>\n                <input ref=\"fileField\" type=\"file\" onChange={ self.props.onChange } style={{ display: 'none' }} />\n                <button className={ self.props.className || \"\" } onClick={ self._triggerUpload }>\n                    { self.props.children }\n                </button>\n            </div>\n        )\n    }\n})\n\nmodule.exports = UploadButton\n","'use strict'\n\nvar defineEnums = require('src/util/define-enums.js')\n\nvar ImageActionType = defineEnums([\n    'DROP_FILES',\n    'RESIZE_CANVAS'\n])\n\nmodule.exports = ImageActionType\n","'use strict'\n\nvar defineEnums = require('src/util/define-enums.js')\n\nvar WindowActionType = defineEnums([\n    'RESIZE',\n    'DRAG_ENTER',\n    'DRAG_LEAVE'\n])\n\nmodule.exports = WindowActionType\n","'use strict'\n\nvar React = require('react')\nvar _ = require('underscore')\n\nvar window = require('src/var/window.js')\nvar WindowStore = require('src/store/window-store.js')\nvar WebglRenderer = require('src/layout/canvas/webgl-renderer.jsx')\nvar ImageAction = require('src/action/image-action.js')\n\nvar Canvas = React.createClass({\n    componentDidMount: function () {\n        var self = this\n        self._adjustCanvasSize = _.debounce(self._adjustCanvasSize, 200)\n        WindowStore.addListener(self._adjustCanvasSize)\n    },\n    componentWillUnmount: function () {\n        WindowStore.removeListener(self._adjustCanvasSize)\n    },\n    _adjustCanvasSize: function () {\n        var self = this\n\n        var menu = self.refs.menu.getDOMNode()\n        var canvasDisplay = self.refs.canvasDisplay.getDOMNode()\n        var canvasSegment = self.refs.canvasSegment.getDOMNode()\n        var canvas = self.refs.canvas.getDOMNode()\n\n        canvasDisplay.style.height = 'calc(100% - ' + menu.scrollHeight + 'px - 1em)'\n        canvas.height = canvasSegment.scrollHeight\n        canvas.width = canvasSegment.scrollWidth\n        ImageAction.resizeCanvas()\n    },\n    render: function () {\n        var self = this\n        window.setTimeout(self._adjustCanvasSize)\n        return (\n            <div className=\"it-canvas-container\">\n                <div className=\"it-inner-container\" style={{ overflow: 'hidden' }}>\n                    <div ref=\"menu\" className=\"it-canvas-menu ui red secondary pointing menu\">\n                        <a className=\"active item\">Before</a>\n                        <a className=\"item\">After</a>\n                    </div>\n                    <div ref=\"canvasDisplay\" className=\"it-canvas-display\">\n                        <div className=\"it-canvas-segment ui segment\">\n                            <div ref=\"canvasSegment\" className=\"it-canvas-inner-segment\">\n                                <WebglRenderer ref=\"canvas\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n})\n\nmodule.exports = Canvas\n","'use strict'\n\nvar React = require('react')\nvar PIXI = require('pixi')\n\nvar requestAnimationFrame = require('src/var/request-animation-frame.js')\nvar ImageStore = require('src/store/image-store.js')\n\nvar WebglRenderer = React.createClass({\n    componentDidMount: function () {\n        var self = this\n        var canvas = self.refs.canvas.getDOMNode()\n        self._renderer = new PIXI.WebGLRenderer(0, 0, {\n            transparent: true,\n            view: canvas\n        })\n        ImageStore.addListener(self._draw)\n    },\n    componentWillUnmount: function () {\n        var self = this\n        ImageStore.removeListener(self._draw)\n    },\n    _draw: function () {\n        var self = this\n        var imageUrl = ImageStore.getImageDataUrl()\n\n        var canvas = self.refs.canvas.getDOMNode()\n        var canvasHeight = canvas.height\n        var canvasWidth = canvas.width\n\n        var renderer = self._renderer\n        renderer.resize(canvasWidth, canvasHeight)\n\n        var stage = new PIXI.Stage()\n\n        var texture = PIXI.Texture.fromImage(imageUrl)\n        var sprite = new PIXI.Sprite(texture)\n\n        sprite.anchor.x = 0.5\n        sprite.anchor.y = 0.5\n\n        sprite.position.x = canvasWidth / 2\n        sprite.position.y = canvasHeight / 2\n\n        stage.addChild(sprite)\n\n        requestAnimationFrame(function () {\n            renderer.render(stage)\n        })\n    },\n    render: function () {\n        var self = this\n        return (\n            <canvas ref=\"canvas\" className=\"it-canvas\" />\n        )\n    }\n})\n\nmodule.exports = WebglRenderer\n","'use strict'\n\nvar React = require('react/addons')\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup\n\nvar ImageAction = require('src/action/image-action.js')\nvar DndStore = require('src/store/dnd-store.js')\n\nfunction getState() {\n    return {\n        is_active: DndStore.isDragging()\n    }\n}\n\nvar Dropzone = React.createClass({\n    getInitialState: function () {\n        return getState()\n    },\n    componentWillMount: function () {\n        var self = this\n        DndStore.addListener(self._onDnd)\n    },\n    componentWillUnmount: function () {\n        var self = this\n        DndStore.addListener(self._onDnd)\n    },\n    _onDnd: function () {\n        var self = this\n        self.setState(getState)\n    },\n    _onDrop: function (event, data) {\n        event.preventDefault()\n        var files = event.dataTransfer.files\n        ImageAction.dropFiles(files)\n    },\n    render: function () {\n        var self = this\n        var is_active = self.state.is_active\n\n        var component = null\n        if (is_active) {\n            component = (\n                <div key=\"dnd\" onDrop={ self._onDrop } className=\"it-global-dropzone\">\n                    <div className=\"it-dropzone-text\">\n                        Drop Image Here\n                    </div>\n                </div>\n            )\n        }\n\n        return (\n            <ReactCSSTransitionGroup transitionName=\"anim-dnd\">\n                { component }\n            </ReactCSSTransitionGroup>\n        )\n    }\n})\n\nmodule.exports = Dropzone\n","'use strict'\n\nvar React = require('react')\n\nvar UploadButton = require('src/component/upload-button.jsx')\nvar ImageAction = require('src/action/image-action.js')\n\nvar Sidebar = React.createClass({\n    _uploadImage: function (event) {\n        var files = event.target.files\n        ImageAction.dropFiles(files)\n    },\n    render: function () {\n        var self = this\n        return (\n            <div className=\"it-sidebar-container\">\n                <div className=\"it-inner-container\">\n                    <div className=\"it-sidebar-inner-segment ui inverted segment\">\n                        <h4 className=\"ui header\">Image Processing Tool</h4>\n                        <div className=\"ui inverted accordion\">\n                            <div>\n                                <div className=\"active title\">\n                                    <i className=\"dropdown icon\"></i>\n                                    Upload Image\n                                </div>\n                                <div className=\"active content\">\n                                    <UploadButton onChange={ self._uploadImage } className=\"ui inverted fluid button\">Select Image</UploadButton>\n                                    or drop to this page\n                                </div>\n                            </div>\n                            <div className=\"title\">\n                                <i className=\"dropdown icon\"></i>\n                                Select Filters\n                            </div>\n                            <div className=\"content\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n})\n\nmodule.exports = Sidebar\n","'use strict'\n\nvar _ = require('underscore')\n\nvar DndStore = require('src/store/dnd-store.js')\nvar document = require('src/var/document.js')\nvar WindowAction = require('src/action/window-action.js')\n\nvar counter = 0\n\nfunction onDragEnter(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    ++counter\n    if (counter == 1) {\n        WindowAction.dragEnter()\n    }\n}\n\nfunction onDragLeave(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    --counter\n    if (counter === 0) {\n        WindowAction.dragLeave()\n    }\n}\n\nfunction onDrop(event) {\n    event.preventDefault()\n    counter = 0\n    WindowAction.dragLeave()\n}\n\nfunction onDragOver(event) {\n    event.preventDefault()\n    event.dataTransfer.dropEffect = 'copy'\n}\n\ndocument.addEventListener('dragenter', onDragEnter, false)\ndocument.addEventListener('dragleave', onDragLeave, false)\ndocument.addEventListener('dragover', onDragOver, false)\ndocument.addEventListener('drop', onDrop, false)\n","'use strict'\n\nvar _ = require('underscore')\n\nvar window = require('src/var/window.js')\nvar WindowAction = require('src/action/window-action.js')\n\nvar onResize = _.debounce(function () {\n    WindowAction.resize()\n}, 50)\n\nwindow.addEventListener('resize', onResize)\n","'use strict'\n\nvar assign = require('object-assign')\nvar EventEmitter = require('events').EventEmitter\n\nvar Dispatcher = require('src/var/dispatcher.js')\nvar WindowActionType = require('src/const/window-action-type.js')\nvar uniqueString = require('src/util/unique-string.js')\n\nvar DND_EVENT = uniqueString()\n\nvar _store = {\n    is_dragging: false\n}\n\nvar DndStore = assign({}, EventEmitter.prototype, {\n    isDragging: function () {\n        return _store.is_dragging\n    },\n    addListener: function (callback) {\n        var self = this\n        self.on(DND_EVENT, callback)\n    },\n    removeListener: function (callback) {\n        var self = this\n        self.removeListener(DND_EVENT, callback)\n    }\n})\n\nfunction setIsDragging(is_dragging) {\n    var was_dragging = _store.is_dragging\n    if (is_dragging !== was_dragging) {\n        _store.is_dragging = is_dragging\n        DndStore.emit(DND_EVENT)\n    }\n}\n\nDispatcher.register(function (message) {\n    switch (message.type) {\n        case WindowActionType.DRAG_ENTER:\n            setIsDragging(true)\n            break\n        case WindowActionType.DRAG_LEAVE:\n            setIsDragging(false)\n            break\n    }\n})\n\nmodule.exports = DndStore\n","'use strict'\n\nvar assign = require('object-assign')\nvar EventEmitter = require('events').EventEmitter\n\nvar Dispatcher = require('src/var/dispatcher.js')\nvar ImageActionType = require('src/const/image-action-type.js')\nvar uniqueString = require('src/util/unique-string.js')\n\nvar IMAGE_EVENT = uniqueString()\n\nvar _store = {\n    data_url: ''\n}\n\nvar ImageStore = assign({}, EventEmitter.prototype, {\n    getImageDataUrl: function () {\n        return _store.data_url\n    },\n    addListener: function (callback) {\n        var self = this\n        self.on(IMAGE_EVENT, callback)\n    },\n    removeListener: function (callback) {\n        var self = this\n        self.removeListener(IMAGE_EVENT, callback)\n    }\n})\n\nvar is_image = /^image\\//\nfunction dropFiles(files) {\n    for (var i = 0, l = files.length; i < l; i ++) {\n        var file = files[i];\n        if (is_image.test(file.type)) {\n            setImageFile(file)\n            return\n        }\n    }\n}\n\nfunction setImageDataUrl(data_url) {\n    if (data_url !== _store.data_url) {\n        _store.data_url = data_url\n        ImageStore.emit(IMAGE_EVENT)\n    }\n}\n\nfunction setImageFile(file) {\n    var reader = new FileReader()\n\n    reader.onload = function (event) {\n        var data_url = event.target.result\n        setImageDataUrl(data_url)\n    }\n\n    reader.readAsDataURL(file)\n}\n\nfunction resizeCanvas() {\n    ImageStore.emit(IMAGE_EVENT)\n}\n\nDispatcher.register(function (message) {\n    switch (message.type) {\n        case ImageActionType.DROP_FILES:\n            dropFiles(message.data.files)\n            break\n        case ImageActionType.RESIZE_CANVAS:\n            resizeCanvas()\n            break\n    }\n})\n\nmodule.exports = ImageStore\n","'use strict'\n\nvar assign = require('object-assign')\nvar EventEmitter = require('events').EventEmitter\n\nvar Dispatcher = require('src/var/dispatcher.js')\nvar WindowActionType = require('src/const/window-action-type.js')\nvar uniqueString = require('src/util/unique-string.js')\n\nvar WINDOW_EVENT = uniqueString()\n\nvar WindowStore = assign({}, EventEmitter.prototype, {\n    addListener: function (callback) {\n        var self = this\n        self.on(WINDOW_EVENT, callback)\n    },\n    removeListener: function (callback) {\n        self.removeListener(WINDOW_EVENT, callback)\n    }\n})\n\nfunction resize() {\n    WindowStore.emit(WINDOW_EVENT, {\n        type: WindowActionType.RESIZE\n    })\n}\n\nDispatcher.register(function (message) {\n    switch (message.type) {\n        case WindowActionType.RESIZE:\n            resize()\n            break\n    }\n})\n\nmodule.exports = WindowStore\n","'use strict'\n\nvar defined = 0\n\nfunction defineEnums(enum_names) {\n    var enums = {}\n    for (var i = 0, l = enum_names.length; i < l; i ++) {\n        var name = enum_names[i];\n        enums[name] = ++defined\n    }\n    return enums\n}\n\nmodule.exports = defineEnums\n","'use strict'\n\nvar shortid = require('shortid')\n\nfunction uniqueString() {\n    return shortid.generate()\n}\n\nmodule.exports = uniqueString\n","'use strict'\n\nvar Dispatcher = require('flux').Dispatcher\n\nmodule.exports = new Dispatcher()\n","module.exports = window.document\n","'use strict'\n\nvar window = require('src/var/window.js')\n\nmodule.exports = window.requestAnimationFrame\n","module.exports = window\n"],"sourceRoot":"/source/"}